{% if not disabled or not multiselect %}
<input
    class="textinput"
    id="{{ component_id }}__textinput"
    autocomplete="off"
    type="text"
    onkeydown="return phac_aspc_autocomplete_keydown_handler(event)"
    onblur="return phac_aspc_autocomplete_blur_handler(event, '{{ component_id|escapejs }}', {{ multiselect|yesno:'false,true' }})"
    hx-get="{% url route_name method='items' %}"
    hx-trigger="focus,click once,input changed delay:250ms"
    hx-include="#{{ component_id }}"
    hx-target="#{{ component_id }}__items"
    hx-vals="js:{component_id: '{{ component_id|escapejs }}', search: document.getElementById('{{ component_id|escapejs }}__textinput').value}"
    hx-swap="outerHTML"
    {% if indicator %}
    hx-indicator="#{{ component_id }}__container .htmx-indicator"
    {% endif %}
    {% if placeholder and selected_items|length == 0 %}
    placeholder="{{ placeholder }}"
    {% endif %}
    {% if not multiselect and selected_items|length == 1 %}
    value="{{ selected_items.0.label }}"
    {% endif %}
    {% if required and selected_items|length == 0 %}
    required
    {% endif %}
    {% if swap_oob %}
    hx-swap-oob="outerHTML:#{{ component_id }}__textinput"
    {% endif %}
>
{% endif %}